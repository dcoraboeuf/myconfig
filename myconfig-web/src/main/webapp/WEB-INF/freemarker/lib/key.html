<#-- Resources -->
<script src="static/scripts/key.js" type="text/javascript"></script>
<link rel="stylesheet/less" type="text/css" href="static/less/key.less" />

<#macro key_create application formClass="">
	<input id="key-create-name" name="name" maxlength="40" size="40" placeholder="<@lh key='application.key.new.name' />" />
	<input id="key-create-submit" type="submit" value="<@lh key='application.key.new' />" onclick="KEY.displayKeyForm()" />	
	<div id="key-dialog" style="display:none;">
		<form class="key ${formClass}" onsubmit="return KEY.submitKeyForm();">
			<input id="key-application" type="hidden" value="${application?html}" />
			<table>
				<tbody>
					<tr>
						<td class="form-input" colspan="2">
							<input id="key-name" type="text" name="name" maxlength="40" size="40" placeholder="<@lh key='model.key.name' />" />
						</td>
					</tr>
					<tr>
						<td class="form-label" width="60">
							<label>
								<@lh key="model.key.type.id" />
							</label>
						</td>
						<td class="form-input">
							<select id="key-type" style="width:100%;" onchange="KEY.onTypeSelection();">
							</select>
						</td>
					</tr>
					<tr>
						<td class="form-input" colspan="2">
							<input id="key-format" type="text" name="format" maxlength="500" size="40" placeholder="<@lh key='any.noparameter' />" disabled="disabled" />
						</td>
					</tr>
					<tr>
						<td class="form-input" colspan="2">
							<textarea id="key-description" name="description" rows="3" cols="40" placeholder="<@lh key='model.key.description' />"></textarea>
						</td>
					</tr>
					<tr>
						<td colspan="2">
							<div id="key-error" class="error" style="display:none;"></div>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td colspan="2" class="form-commands">
							<a class="form-command form-command-cancel" href="javascript:$('#key-dialog').dialog('close')"><@lh key="general.cancel" /></a>
							<input id="key-submit" type="submit" class="form-command form-command-submit" value="<@lh key='application.key.new' />" />
						</td>
					</tr>
				</tfoot>
			</table>
		</form>
	</div>
</#macro>