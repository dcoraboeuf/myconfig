<#include "/lib/layout.html">
<@layout_std pageId="versionConfiguration" style=true modules=[] title=loc("versionConfiguration.title", configuration.name)>
	<article class="versionConfiguration">
		<table border="1">
			<thead>
				<tr>
					<th>
						<@lh key="versionConfiguration.key" />
					</th>
					<#list configuration.versionConfigurationList as versionConfiguration>
						<th>
							${versionConfiguration.name?html}
						</th>
					</#list>
				</tr>
			</thead>
			<tbody>
				<#list configuration.keyList as key>
					<tr>
						<td class="key">
							<div class="key-name">${key.name?html}</div>
							<div class="key-description">${key.description?html}</div>
						</td>
						<#list configuration.versionConfigurationList as versionConfiguration>
							<td class="key-flag">
								<#if versionConfiguration.keys?seq_contains(key.name)>
									<img id="versionConfiguration_${versionConfiguration.name?html}_${key.name?html}" class="versionConfiguration yes" src="images/version_key_yes.png" title="<@lh key='versionConfiguration.key.yes'/>" onclick="myconfig.removeKeyVersion(${configuration.id}, '${versionConfiguration.name?html}', '${key.name?html}');" />
								<#else>
									<img id="versionConfiguration_${versionConfiguration.name?html}_${key.name?html}" class="versionConfiguration no" src="images/version_key_no.png" title="<@lh key='versionConfiguration.key.no'/>" onclick="myconfig.addKeyVersion(${configuration.id}, '${versionConfiguration.name?html}', '${key.name?html}');" />
								</#if>
							</td>
						</#list>
					</tr>
				</#list>
			</tbody>
		</table>
	</article>
	<@layout_std_nav href="gui/" key="applications" />
	<@layout_std_nav href="gui/application/configure?id=${configuration.id}" key="configuration" />
</@layout_std>